(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{3402:function(e,t,r){Promise.resolve().then(r.bind(r,3578))},3578:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(7437),s=r(2265);function a(){let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)("");async function c(e){a(""),(await fetch("http://localhost:4000/delivery-partner/orders/".concat(e,"/accept"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).ok?a("Order accepted!"):a("Failed to accept order")}return(0,s.useEffect)(()=>{fetch("http://localhost:4000/delivery-partner/orders",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(e=>e.json()).then(t)},[r]),(0,n.jsxs)("main",{className:"p-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Assigned Orders"}),(0,n.jsxs)("ul",{className:"border rounded p-2",children:[0===e.length&&(0,n.jsx)("li",{children:"No assigned orders."}),e.map(e=>(0,n.jsxs)("li",{className:"mb-2 flex justify-between items-center",children:[(0,n.jsxs)("span",{children:["Order #",e.id,": Restaurant ",e.restaurant_id,", Menu ",e.menu_id,", Status: ",e.order_status]}),(0,n.jsx)("button",{className:"bg-green-600 text-white px-2 py-1 rounded",onClick:()=>c(e.id),children:"Accept"})]},e.id))]}),r&&(0,n.jsx)("div",{className:"mt-4 text-green-700",children:r})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3402)}),_N_E=e.O()}]);